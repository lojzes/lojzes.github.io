import{_ as t,X as l,Y as s,Z as a,a1 as n,$ as r,a2 as o,C as c}from"./framework-0b23a550.js";const i="/assets/1-1d576ada.png",h={},d={class:"hint-container tip"},p=a("p",{class:"hint-container-title"},"参考",-1),_={href:"https://github.com/lojzes/middle-study/tree/master/canal/src/main/java/com/lojzes/middle/canal",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/alibaba/canal",target:"_blank",rel:"noopener noreferrer"},y={href:"https://developer.aliyun.com/article/770496",target:"_blank",rel:"noopener noreferrer"},u={href:"https://www.cnblogs.com/yushuo/p/11251265.html",target:"_blank",rel:"noopener noreferrer"},b=o('<h2 id="基本原理" tabindex="-1"><a class="header-anchor" href="#基本原理" aria-hidden="true">#</a> 基本原理</h2><h3 id="mysql-主从复制" tabindex="-1"><a class="header-anchor" href="#mysql-主从复制" aria-hidden="true">#</a> mysql 主从复制</h3><p><img src="'+i+'" alt="" loading="lazy"></p><p>【1】MySQL master 将数据变更写入二进制日志( binary log, 其中记录叫做二进制日志事件 binary log events，可以通过 show binlog events 进行查看)</p><p>【2】MySQL slave 将 master 的 binary log events 拷贝到它的中继日志(relay log)</p><p>【3】MySQL slave 重放 relay log 中事件，将数据变更反映它自己的数据</p><h3 id="canal-工作原理" tabindex="-1"><a class="header-anchor" href="#canal-工作原理" aria-hidden="true">#</a> canal 工作原理</h3><p>【1】canal 模拟 MySQL slave 的交互协议，伪装自己为 MySQL slave ，向 MySQL master 发送 dump 协议</p><p>【2】MySQL master 收到 dump 请求，开始推送 binary log 给 slave (即 canal )</p><p>【3】canal 解析 binary log 对象(原始为 byte 流)</p><h3 id="canal-主要用途" tabindex="-1"><a class="header-anchor" href="#canal-主要用途" aria-hidden="true">#</a> Canal 主要用途</h3><p>Canal 主要用途是对 MySQL 数据库增量日志进行解析，提供增量数据的订阅和消费，简单说就是可以对 MySQL 的增量数据进行实时同步，支持同步到 MySQL、Elasticsearch、HBase 等数据存储中去。</p>',12);function f(g,v){const e=c("ExternalLinkIcon");return l(),s("div",null,[a("div",d,[p,a("p",null,[a("a",_,[n("源码"),r(e)])]),a("p",null,[a("a",m,[n("官网"),r(e)])]),a("p",null,[a("a",y,[n("canal入门"),r(e)])]),a("p",null,[a("a",u,[n("Canal常用配置"),r(e)])])]),b])}const S=t(h,[["render",f],["__file","canal.html.vue"]]);export{S as default};
